import{j as e,r as m}from"./three-DBW-vNuJ.js";import"./index-DDFsZ36w.js";import{g as u}from"./gsap-Brfk6Bdo.js";const x="https://tidycal.com/essabir02yassine/lets-chat-about-your-idea",p=({url:l=x,title:t="Book a free call",height:n="clamp(560px, 80vh, 920px)",className:a="",iframeClassName:r=""})=>e.jsx("div",{className:`w-full ${a}`.trim(),children:e.jsx("iframe",{src:l,title:t,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",className:`w-full rounded-2xl border border-white/10 bg-black/20 ${r}`.trim(),style:{height:n}})}),w=({url:l=x,title:t="Book a free call",buttonLabel:n="Book a free call",buttonClassName:a=""})=>{const[r,s]=m.useState(!1);return m.useEffect(()=>{if(!r)return;const i=document.body.style.overflow;document.body.style.overflow="hidden";const o=c=>{c.key==="Escape"&&s(!1)};return window.addEventListener("keydown",o),()=>{document.body.style.overflow=i,window.removeEventListener("keydown",o)}},[r]),e.jsxs("div",{className:"w-full",children:[e.jsx("button",{type:"button",className:`inline-flex items-center justify-center rounded-full border border-white/20 px-6 py-3 text-xs font-semibold uppercase tracking-[0.2em] text-white transition hover:border-white/40 ${a}`.trim(),onClick:()=>s(!0),children:n}),r&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("button",{type:"button","aria-label":"Close booking modal",className:"absolute inset-0 bg-black/70",onClick:()=>s(!1)}),e.jsxs("div",{role:"dialog","aria-modal":"true",className:"relative z-10 w-full max-w-5xl rounded-2xl border border-white/10 bg-primary p-4 shadow-2xl",children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between gap-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Book a Free Call"}),e.jsx("button",{type:"button",className:"text-xs uppercase tracking-[0.2em] text-white/70 transition hover:text-white",onClick:()=>s(!1),children:"Close"})]}),e.jsx(p,{url:l,title:t,height:"clamp(520px, 72vh, 820px)",iframeClassName:"rounded-xl"})]})]})]})},j=()=>{const l=m.useRef(null);return m.useEffect(()=>{const t=l.current;if(!t||window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;const a=u.context(()=>{const r=t.querySelector(".js-tidycall-header"),s=t.querySelector(".js-tidycall-title"),i=t.querySelector(".js-tidycall-copy"),o=t.querySelector(".js-tidycall-embed"),c=[r,o].filter(Boolean),f=[s,i].filter(Boolean);c.length&&u.set(c,{autoAlpha:0,y:26,filter:"blur(6px)"}),f.length&&u.set(f,{autoAlpha:0,y:18});const d=u.timeline({scrollTrigger:{trigger:t,start:"top 80%",end:"bottom 30%"}});r&&d.to(r,{autoAlpha:1,y:0,filter:"blur(0px)",duration:.7,ease:"power2.out"}),s&&d.to(s,{autoAlpha:1,y:0,duration:.55,ease:"power2.out"},"-=0.45"),i&&d.to(i,{autoAlpha:1,y:0,duration:.55,ease:"power2.out"},"-=0.4"),o&&d.to(o,{autoAlpha:1,y:0,filter:"blur(0px)",duration:.75,ease:"power3.out"},"-=0.25")},t);return()=>a.revert()},[]),e.jsxs("section",{ref:l,className:"px-32 lg:px-48 section-spacing",id:"tidycall",children:[e.jsxs("div",{className:"mx-auto flex max-w-4xl flex-col items-center text-center js-tidycall-header",children:[e.jsx("h2",{className:"services-title js-tidycall-title",children:"Book a Free Call"}),e.jsx("p",{className:"mt-8 text-base text-neutral-300 js-tidycall-copy",children:"Let's create something amazing. Pick a time that works for you."})]}),e.jsx("div",{className:"mt-10 js-tidycall-embed",children:e.jsx(p,{})})]})};export{p as TidyCallEmbed,w as TidyCallModal,j as default};
